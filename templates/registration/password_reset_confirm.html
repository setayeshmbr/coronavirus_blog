{% extends 'registration/login_base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block main %}
    <div class="limiter">
        {% if form.non_field_errors %}
            <div class="errors">
                {% for errors in form.non_field_errors %}
                    <span>{{ errors }}</span>
                {% endfor %}
            </div>
        {% endif %}
        <div class="container-login100"
             style="background-image: url('{% static 'registration/login/images/bg-01.jpg' %}');">
            <div class="wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54">
                <form class="login100-form validate-form " method="post">{% csrf_token %}
                    <span class="login100-form-title p-b-49 myfont">
                    بازیابی رمز عبور
                    </span>

                    {% if validlink %}
                        <div class="wrap-input100 validate-input" data-validate="Password is required">
                            <span class="label-input100 myfont"> رمز عبور جدید </span>
                            {% render_field form.new_password1|add_class:"input100 myfont" type="password" name="pass" placeholder="رمز عبور جدید خود را وارد کنید" %}
                            <span class="focus-input100" data-symbol="&#xf190;"></span>
                        </div>
                        {% if form.new_password1.errors %}
                            <div class="alert-danger">
                                {% for errors in form.new_password1.errors %}
                                    <span>{{ errors }}</span>
                                {% endfor %}
                            </div>
                        {% endif %}



                        <div class="wrap-input100 validate-input" data-validate="Password is required">
                            <span class="label-input100 myfont">تایید رمز عبور</span>
                            {% render_field form.new_password2|add_class:"input100 myfont" type="password" name="pass" placeholder="رمز عبور خود را مجددا وارد کنید" %}
                            <span class="focus-input100" data-symbol="&#xf190;"></span>
                        </div>
                        {% if form.new_password2.errors %}
                            <div class="alert-danger">
                                {% for errors in form.new_password2.errors %}
                                    <span>{{ errors }}</span>
                                {% endfor %}
                            </div>
                        {% endif %}

                        <div class="container-login100-form-btn">
                            <div class="wrap-login100-form-btn">
                                <div class="login100-form-bgbtn"></div>
                                <button class="login100-form-btn myfont">
                                    تایید
                                </button>
                            </div>
                        </div>

                    {% else %}
                        <p class="myfont">لینک منقضی شده است برای بازیابی رمز عبور دوباره
                            <a href="{% url 'password_reset' %}" class="alert-link myfont">کلیک</a>
                            کنید.
                        </p>
                    {% endif %}
                </form>
            </div>
        </div>
    </div>
{% endblock %}

